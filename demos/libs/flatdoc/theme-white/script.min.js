(function($){var $window=$(window);var $document=$(document);$document.on("flatdoc:ready",function(){$("h2, h3").scrollagent(function(cid,pid,currentElement,previousElement){if(pid){$("[href='#"+pid+"']").removeClass("active")}if(cid){$("[href='#"+cid+"']").addClass("active")}})});$document.on("flatdoc:ready",function(){$(".menu a").anchorjump()});$(function(){var $card=$(".title-card");if(!$card.length)return;var $header=$(".header");var headerHeight=$header.length?$header.outerHeight():0;$window.on("resize.title-card",function(){var windowWidth=$window.width();if(windowWidth<480){$card.css("height","")}else{var height=$window.height();$card.css("height",height-headerHeight)}}).trigger("resize.title-card")});$(function(){var $sidebar=$(".menubar");var elTop;$window.on("resize.sidestick",function(){$sidebar.removeClass("fixed");elTop=$sidebar.offset().top;$window.trigger("scroll.sidestick")}).on("scroll.sidestick",function(){var scrollY=$window.scrollTop();$sidebar.toggleClass("fixed",scrollY>=elTop)}).trigger("resize.sidestick")})})(jQuery);(function($){$.fn.scrollagent=function(options,callback){if(typeof callback==="undefined"){callback=options;options={}}var $sections=$(this);var $parent=options.parent||$(window);var offsets=[];$sections.each(function(i){var offset=$(this).attr("data-anchor-offset")?parseInt($(this).attr("data-anchor-offset"),10):options.offset||0;offsets.push({id:$(this).attr("id"),index:i,el:this,offset:offset})});var current=null;var height=null;var range=null;$(window).on("resize",function(){height=$parent.height();range=$(document).height()});$parent.on("scroll",function(){var y=$parent.scrollTop();y+=height*(.3+.7*Math.pow(y/range,2));var latest=null;for(var i in offsets){if(offsets.hasOwnProperty(i)){var offset=offsets[i];if($(offset.el).offset().top+offset.offset<y)latest=offset}}if(latest&&(!current||latest.index!==current.index)){callback.call($sections,latest?latest.id:null,current?current.id:null,latest?latest.el:null,current?current.el:null);current=latest}});$(window).trigger("resize");$parent.trigger("scroll");return this}})(jQuery);(function($){var defaults={speed:500,offset:0,"for":null,parent:null};$.fn.anchorjump=function(options){options=$.extend({},defaults,options);if(options["for"]){this.on("click",options["for"],onClick)}else{this.on("click",onClick)}function onClick(e){var $a=$(e.target).closest("a");if(e.ctrlKey||e.metaKey||e.altKey||$a.attr("target"))return;e.preventDefault();var href=$a.attr("href");$.anchorjump(href,options)}};$.anchorjump=function(href,options){options=$.extend({},defaults,options);var top=0;if(href!="#"){var $area=$(href);if(options.parent){var $parent=$area.closest(options.parent);if($parent.length){$area=$parent}}if(!$area.length){return}var offset=$area.attr("data-anchor-offset")?parseInt($area.attr("data-anchor-offset"),10):options.offset;top=Math.max(0,$area.offset().top+offset)}$("html, body").animate({scrollTop:top},options.speed);$("body").trigger("anchor",href);if(window.history.pushState){window.history.pushState({href:href},"",href)}}})(jQuery);